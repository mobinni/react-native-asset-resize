'use strict';var _createClass = function () {function defineProperties(target, props) {for (var i = 0; i < props.length; i++) {var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if ("value" in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);}}return function (Constructor, protoProps, staticProps) {if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;};}();var _get = function get(object, property, receiver) {if (object === null) object = Function.prototype;var desc = Object.getOwnPropertyDescriptor(object, property);if (desc === undefined) {var parent = Object.getPrototypeOf(object);if (parent === null) {return undefined;} else {return get(parent, property, receiver);}} else if ("value" in desc) {return desc.value;} else {var getter = desc.get;if (getter === undefined) {return undefined;}return getter.call(receiver);}};function _asyncToGenerator(fn) {return function () {var gen = fn.apply(this, arguments);return new Promise(function (resolve, reject) {function step(key, arg) {try {var info = gen[key](arg);var value = info.value;} catch (error) {reject(error);return;}if (info.done) {resolve(value);} else {return Promise.resolve(value).then(function (value) {step("next", value);}, function (err) {step("throw", err);});}}return step("next");});};}function _classCallCheck(instance, Constructor) {if (!(instance instanceof Constructor)) {throw new TypeError("Cannot call a class as a function");}}function _possibleConstructorReturn(self, call) {if (!self) {throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return call && (typeof call === "object" || typeof call === "function") ? call : self;}function _inherits(subClass, superClass) {if (typeof superClass !== "function" && superClass !== null) {throw new TypeError("Super expression must either be null or a function, not " + typeof superClass);}subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } });if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;}var fs = require('fs');
var path = require('path');
var Device = require('./Device');var

IosNoneDevice = function (_Device) {_inherits(IosNoneDevice, _Device);

  function IosNoneDevice(client, session, deviceConfig) {_classCallCheck(this, IosNoneDevice);return _possibleConstructorReturn(this, (IosNoneDevice.__proto__ || Object.getPrototypeOf(IosNoneDevice)).call(this,
    client, session, deviceConfig));
  }_createClass(IosNoneDevice, [{ key: 'ensureDirectoryExistence', value: function ensureDirectoryExistence(

    filePath) {
      var dirname = path.dirname(filePath);
      if (fs.existsSync(dirname)) {
        return true;
      }

      this.ensureDirectoryExistence(dirname);
      fs.mkdirSync(dirname);
      return true;
    } }, { key: 'createPushNotificationJson', value: function createPushNotificationJson(

    notification) {
      var notificationFilePath = path.join(__dirname, 'detox', 'notifications', 'notification.json');
      this.ensureDirectoryExistence(notificationFilePath);
      fs.writeFileSync(notificationFilePath, JSON.stringify(notification, null, 2));
      return notificationFilePath;
    } }, { key: 'sendUserNotification', value: function () {var _ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee(

      notification) {var notificationFilePath;return regeneratorRuntime.wrap(function _callee$(_context) {while (1) {switch (_context.prev = _context.next) {case 0:
                notificationFilePath = this.createPushNotificationJson(notification);_context.next = 3;return _get(IosNoneDevice.prototype.__proto__ || Object.getPrototypeOf(IosNoneDevice.prototype), 'sendUserNotification', this).call(this,
                { detoxUserNotificationDataURL: notificationFilePath });case 3:case 'end':return _context.stop();}}}, _callee, this);}));function sendUserNotification(_x) {return _ref.apply(this, arguments);}return sendUserNotification;}() }]);return IosNoneDevice;}(Device);



module.exports = IosNoneDevice;